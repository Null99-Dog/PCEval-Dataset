author: Blind Author
description: Traffic light turns red when the button is pressed
name: Traffic light
steps:
- delay: 100ms
- expect-pin:
    part-id: arduino uno1
    pin: 0
    value: 1
- wait-multi-pin:
    timeout: 1000
    interval: 100
    pins:
      - part-id: led1
        pin: C
        value: 0
      - part-id: led2
        pin: C
        value: 0
      - part-id: led3
        pin: C
        value: 0
      - part-id: led1
        pin: A
        value: 0
      - part-id: led2
        pin: A
        value: 0
      - part-id: led3
        pin: A
        value: 1
- set-control:
    control: pressed
    part-id: push button1
    value: 1
- delay: 500ms
- wait-multi-pin:
    timeout: 1000
    interval: 100
    pins:
      - part-id: led1
        pin: C
        value: 0
      - part-id: led2
        pin: C
        value: 0
      - part-id: led3
        pin: C
        value: 0
      - part-id: led1
        pin: A
        value: 0
      - part-id: led2
        pin: A
        value: 1
      - part-id: led3
        pin: A
        value: 0
- delay: 500ms
- wait-multi-pin:
    timeout: 1000
    interval: 100
    pins:
      - part-id: led1
        pin: C
        value: 0
      - part-id: led2
        pin: C
        value: 0
      - part-id: led3
        pin: C
        value: 0
      - part-id: led1
        pin: A
        value: 1
      - part-id: led2
        pin: A
        value: 0
      - part-id: led3
        pin: A
        value: 0
- set-control:
    control: pressed
    part-id: push button1
    value: 0
- delay: 1000ms
- wait-multi-pin:
    timeout: 1000
    interval: 100
    pins:
      - part-id: led1
        pin: C
        value: 0
      - part-id: led2
        pin: C
        value: 0
      - part-id: led3
        pin: C
        value: 0
      - part-id: led1
        pin: A
        value: 0
      - part-id: led2
        pin: A
        value: 0
      - part-id: led3
        pin: A
        value: 1
version: 1.0
